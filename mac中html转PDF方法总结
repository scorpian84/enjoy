Mac自带的网页转PDF有2种选项：
1、存储为PDF
2、save as Adobe PDF
特点：
这两种都可以根据标签生成目录，但前提是文件本身的结构正确，否则生成的书签目录会不正确。
还有一点区别是同样的情况下，save as Adobe PDF文件比存储为PDF大一半
优点：
根据标签生成的书签目录，是模型树的形式，目录为页码加xyz，仅修改书签属性即可展开或折叠书签，且加减书签，定位不会错乱。
缺点：
用这种方法生成目录的文件整体大小会比较大，会增加一半，有时候压缩文件都没用。

注：导出为PDF和存储为PDF，两种办法出来的PDF文件格式相差很大

第3种网页转PDF的方法：
根据wkhtmltopdf打印的PDF文件，
特点：书签目录是名称
优点：不管文件复杂还是简单，都能保证所有书签都是正确的，文件大小很小
缺点：目录为名称的，加减书签目录，定位会错乱，加减目录书签或修改书签属性以及修改PDF文件本身，都不能展开或折叠目录
解决方法：用PdgCntEditor及类似的软件打开再保存下，即可将书签目录的名称转为页码。

ps：
书签目录为页码是最常见的一种形式
特点和优缺点：和书签目录为页码加xyz形式的书签一样

重点注意事项：
用calibre软件转换的PDF，书签目录虽然是页码加上xyz的格式，但是所有的属性都和书签目录是名称的文件基本一样，除了加减书签目录，定位不会错乱，在加减目录书签或修改书签属性以及修改PDF文件本身，都不能展开或折叠目录。猜测其目录生成原理与wkhtmltopdf的一样。
解决办法：用PdgCntEditor及类似的软件打开再保存下，即可通过修改书签属性或加减操作，来展开或折叠目录

综上所述：用wkhtmltopdf打印之后再用PdgCntEditor保存下书签，是网页转PDF最优解

关于wkhtmltopdf打印而生成的PDF文件，其搜索🔍注意事项：
最好将css文件检查一遍，标注具体是什么字体，否则生成的PDF搜索有问题，例如，文件内容包含“水蛭”两个字，用arobot却怎么都搜不到，但是把PDF文件放在浏览器中却能打开。
一个简单的区分办法，用Mac原生浏览器和任意一款其他浏览器打开此html文件，显示的字体是否一致，如果一致，则css是标明了字体的，如果不一致，说明css用的默认字体，打印转成PDF就会造成搜索问题。


（原创文章，转载请标明出处）


